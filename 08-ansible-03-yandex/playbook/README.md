# Ansible Playbook: Установка и Настройка

Этот Ansible playbook автоматизирует установку и настройку NGINX, Lighthouse, ClickHouse и Vector на указанных хостах.

## Обзор

Playbook организован в несколько ролей, каждая из которых отвечает за определенный компонент:

- **Установка и Настройка NGINX**: Устанавливает NGINX и настраивает его параметры.

- **Установка и Настройка Lighthouse**: Устанавливает Lighthouse и настраивает NGINX для его обслуживания.

- **Установка и Настройка ClickHouse**: Загружает и устанавливает пакеты ClickHouse, настраивает сервер ClickHouse и создает базу данных.

- **Установка и Настройка Vector**: Загружает и устанавливает пакеты Vector, настраивает Vector и настраивает службу systemd.

## Предварительные требования

Перед запуском этого playbook убедитесь в следующем:

- Ansible установлен на машине, с которой вы запускаете playbook.
- Есть доступ по SSH к целевым хостам.
- Есть подключение к Интернету для загрузки пакетов.

## Использование

1. Клонируйте этот репозиторий на ваш локальный компьютер:

    ```bash
    git clone https://github.com/kshatyy/Ansible.git
    ```

2. Перейдите в каталог playbook:

    ```bash
    cd ansible-playbook-directory
    ```

3. Обновите файл инвентаря (`inventory.yml`) с вашими целевыми хостами.

4. Настройте переменные в playbook по мере необходимости. Вы можете найти их в каталоге `group_vars`.

5. Запустите playbook:

    ```bash
    ansible-playbook -i inventory/prod.yml site.yml
    ```

## Теги

Playbook поддерживает следующие теги, позволяя вам выборочно запускать определенные части playbook:

- **nginx**: Устанавливает и настраивает NGINX.
- **lighthouse**: Устанавливает и настраивает Lighthouse.
- **clickhouse**: Устанавливает и настраивает ClickHouse.
- **vector**: Устанавливает и настраивает Vector.

Чтобы запустить конкретный тег, используйте опцию `-t`, за которой следует имя тега:

```bash
ansible-playbook -i inventory/prod.yml site.yml -t nginx
```
